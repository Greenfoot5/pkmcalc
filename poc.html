<html>
    <head>
        <title>PKM Calculator : Home</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
        <link rel="stylesheet" href="style/style.css" />

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

<script>
    let getSkillPrice = (level, isTheOrder, priceModifier, happinessModifier, relicLevel, isDarkMagic, fanaticism, isBoostActive) => {
        const a = (0.001 * Math.pow(level,
                Math.log((level * Math.sqrt(level)) / (isTheOrder ? 1 : 3.27)))
        )
        const b = (
            priceModifier *
            happinessModifier *
            0.1 *
            (1 + relicLevel) *
            (isDarkMagic ? fanaticism : 1) *
            (isBoostActive ? 2 : 1)
        )

        console.log(a, b)

        return 1 + a / b
    }

    let doCalcSkillPrice = () => {
        let level = $("#level").val() || 1;
        let isTheOrder = $("isTheOrder").is(":checked");
        let priceModifier = $("#priceModifier").val() || 1;
        let happinessModifier = $("#happinessModifier").val() || 1;
        let relicLevel = $("#relicLevel").val() || 1;
        let isDarkMagic = $("#isDarkMagic").is(":checked");
        let fanaticism = $("#fanaticism").val() || 1;
        let isBoostActive = $("#isBoostActive").is(":checked");

        jQuery("#skillcost").html(getSkillPrice(level, isTheOrder, priceModifier, happinessModifier, relicLevel, isDarkMagic, fanaticism, isBoostActive));
    }
</script>
    </head>
    <body class="col-bg-12 col-md-12 col-sm-12">
        <div class="col-sm-12">
            <div class="col-sm-6">
                <label for="level">Curr Skill Level:</label> <input name="level" id="level" type="number" value="2521" tabindex="1" /><br>
                <label for="isTheOrder">Is The Order:</label> <input name="isTheOrder" id="isTheOrder" type="checkbox" tabindex="2" /><br>
                <label for="priceModifier">Price Modifier:</label> <input name="priceModifier" id="priceModifier" type="number" value="1315214.2" tabindex="3" /><br>
                <label for="happinessModifier">Happiness Modifier:</label> <input name="happinessModifier" id="happinessModifier" type="number" value="397879823775.6" tabindex="4" /><br>
                <label for="relicLevel">Curr Relic Level:</label> <input name="relicLevel" id="relicLevel" type="number" value="9179" tabindex="5" /><br>
                <label for="isDarkMagic">Is Dark Magic:</label> <input name="isDarkMagic" id="isDarkMagic" type="checkbox" tabindex="6" /><br>
                <label for="fanaticism">Fanaticism:</label> <input name="fanaticism" id="fanaticism" type="number" value="294745" tabindex="7" /><br>
                <label for="isBoostActive">Is Boost Active:</label> <input name="isBoostActive" id="isBoostActive" type="checkbox" tabindex="8" /><br>
                <button onclick="doCalcSkillPrice()">Calc Skill Price</button>
            </div>
            <div class="col-sm-6">
                <p>Skill cost; <span id="skillcost">0</span></p>
            </div>
        </div>
    </body>
</html>
